(this["webpackJsonpmovie-web"]=this["webpackJsonpmovie-web"]||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a(13),n=a.n(s),i=a(7),r=a.n(i),l=a(3),o=a(10),d=a(6),j=a(5),b=a(4),m=a(8),u=a(0);var O=function(e){var t=e.storageKey,a=e.deleteGood,c=JSON.parse(localStorage.getItem(t)).id,s=JSON.parse(localStorage.getItem(t)).poster_img,n=JSON.parse(localStorage.getItem(t)).title;return Object(u.jsxs)("div",{className:"movies",children:[Object(u.jsx)("img",{className:"moviePoster",src:s,alt:n}),Object(u.jsx)("div",{className:"movieTitle",children:Object(u.jsx)("p",{children:n})}),Object(u.jsx)("button",{className:"deleteButton",onClick:function(e){localStorage.removeItem(c),a()},children:Object(u.jsx)(b.a,{icon:m.c})})]})};var h=function(e){var t=e.filterBtn,a=function(e){"BUTTON"===e.target.nodeName||"DIV"===e.target.nodeName?t(e.target.className):"svg"===e.target.nodeName?t(e.target.parentNode.className):t(e.target.parentNode.parentNode.className)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"navContainer",children:[Object(u.jsxs)("button",{onClick:a,className:"popular",children:[Object(u.jsx)(b.a,{icon:j.e}),Object(u.jsx)("div",{className:"popular",children:"\uc778\uae30"})]}),Object(u.jsxs)("button",{onClick:a,className:"top_rated",children:[Object(u.jsx)(b.a,{icon:j.d}),Object(u.jsx)("div",{className:"top_rated",children:"\uc88b\uc740\ud3c9\uac00"})]}),Object(u.jsxs)("button",{onClick:a,className:"now_playing",children:[Object(u.jsx)(b.a,{icon:j.b}),Object(u.jsx)("div",{className:"now_playing",children:"\uc0c1\uc601\uc911"})]}),Object(u.jsxs)("button",{onClick:a,className:"good",children:[Object(u.jsx)(b.a,{icon:j.a}),Object(u.jsx)("div",{className:"good",children:"\uc88b\uc544\uc694"})]})]})})};var p=function(e){var t=e.result,a=e.getMovieID,c=null===t.poster_path?"http://collaboparty1004.cafe24.com/xe/files/attach/images/139/483/d8c711f2e76e6be056d911b8fbed47fd.jpg":"https://image.tmdb.org/t/p/original/".concat(t.poster_path);return Object(u.jsxs)("div",{className:"movies",onClick:function(){a(t.id)},children:[Object(u.jsx)("img",{className:"moviePoster",src:c,alt:t.title}),Object(u.jsx)("div",{className:"releaseDate",children:t.release_date.split("-")[0]}),Object(u.jsx)("div",{className:"movieTitle",children:Object(u.jsx)("p",{children:t.title})})]})};var v=function(e){var t=e.filterType,a=e.results,s=e.detail,n=e.getMovieID,i=e.goodBtn,r=Object(c.useState)({state:!1}),l=Object(d.a)(r,2),o=l[0],j=l[1],b="";b="popular"===t?"\uc778\uae30 \uc788\ub294 \uc601\ud654":"top_rated"===t?"\uc88b\uc740 \ud3c9\uac00 \uc601\ud654":"now_playing"===t?"\uc0c1\uc601\uc911\uc778 \uc601\ud654":"good"===t?"\uc88b\uc544\ud558\ub294 \uc601\ud654":"'"+t+"' \uc5d0 \ub300\ud55c \uacb0\uacfc";var m=Object.keys(localStorage),h=function(){j({state:!o.state})};return!0===i?Object(u.jsxs)("div",{className:"movieContainer",children:[Object(u.jsx)("h1",{className:"currentPage",children:b}),m.map((function(e){return Object(u.jsx)(O,{deleteGood:h,storageKey:e})}))]}):Object(u.jsxs)("div",{className:"movieContainer",children:[Object(u.jsx)("h1",{className:"currentPage",children:b}),Object(u.jsx)(u.Fragment,{children:a.map((function(e){return Object(u.jsx)(p,{result:e,detail:s,getMovieID:n},e.id)}))})]})};var x=function(e){var t=e.searchData,a=Object(c.useState)(""),s=Object(d.a)(a,2),n=s[0],i=s[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"headerContainer",children:[Object(u.jsx)("button",{className:"logo",children:Object(u.jsx)(b.a,{icon:j.f})}),Object(u.jsxs)("form",{className:"headerSearch",children:[Object(u.jsx)("input",{onChange:function(e){i(e.target.value)},type:"text",value:n,placeholder:""}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),t(n),i("")},children:Object(u.jsx)(b.a,{icon:j.c})})]})]})})};var g=function(e){var t=e.genre;return Object(u.jsxs)("span",{children:[t," "]})};var f=function(e){var t=e.id,a=e.title,c=e.poster_path,s=e.getMovieID,n=e.vote,i=e.release_date,r=null===c?"http://collaboparty1004.cafe24.com/xe/files/attach/images/139/483/d8c711f2e76e6be056d911b8fbed47fd.jpg":"https://image.tmdb.org/t/p/original/".concat(c);return Object(u.jsxs)("div",{className:"movies",onClick:function(){s(t)},children:[Object(u.jsx)("img",{className:"similarPoster",src:r,alt:a}),Object(u.jsxs)("div",{className:"inPosterText",children:[Object(u.jsx)("div",{className:"inPosterTextTitle",children:a}),Object(u.jsxs)("div",{className:"inPosterTextVote",children:["\u2605 ",n," / 10"]})]}),Object(u.jsx)("div",{className:"releaseDate",children:i.split("-")[0]}),Object(u.jsx)("div",{className:"movieTitle",children:Object(u.jsx)("p",{children:a})})]})};var N=function(e){var t=e.details,a=e.closeDetail,s=e.videos,n=e.getMovieID;console.log(s.results);var i=Object(c.useState)({id:"",good:!1}),r=Object(d.a)(i,2),l=r[0],o=r[1],j="http://collaboparty1004.cafe24.com/xe/files/attach/images/139/483/d8c711f2e76e6be056d911b8fbed47fd.jpg",O=null===t.poster_path?j:"https://image.tmdb.org/t/p/original/".concat(t.poster_path),h=null===t.backdrop_path?j:"https://image.tmdb.org/t/p/original/".concat(t.backdrop_path);return Object(u.jsxs)("div",{className:"detailContainer",children:[Object(u.jsx)("section",{className:"backdropContainer",children:Object(u.jsx)("img",{className:"backdropImg",src:h,alt:t.title})}),Object(u.jsx)("section",{children:Object(u.jsxs)("div",{className:"movieDetail",children:[Object(u.jsx)("img",{className:"detailImg",src:O,alt:t.title}),Object(u.jsx)("button",{className:"closeBtn",onClick:function(e){a()},children:Object(u.jsx)(b.a,{icon:m.b})}),Object(u.jsxs)("div",{className:"detailInfo",children:[Object(u.jsx)("div",{className:"detailTitle",children:t.title}),Object(u.jsxs)("div",{className:"detailGenres",children:[Object(u.jsx)("span",{children:"\uc7a5\ub974 : "}),Object(u.jsx)("span",{children:t.genres.map((function(e){return Object(u.jsx)(g,{genre:e.name},e.id)}))})]}),Object(u.jsxs)("div",{className:"detailRuntime",children:[Object(u.jsx)("span",{children:"\uc0c1\uc601 \uc2dc\uac04 : "}),Object(u.jsxs)("span",{children:[t.runtime," \ubd84"]})]}),Object(u.jsxs)("div",{className:"detailDate",children:[Object(u.jsx)("span",{children:"\uac1c\ubd09\uc77c : "}),Object(u.jsx)("span",{children:t.release_date})]}),Object(u.jsxs)("div",{className:"detailVote",children:["\ud3c9\uc810 : ",t.vote_average," / 10"]}),Object(u.jsx)("div",{className:"detailOverviewTitle",children:"\uac1c\uc694"}),Object(u.jsx)("div",{className:"detailOverview",children:t.overview}),Object(u.jsx)("span",{children:l.good?Object(u.jsx)("button",{className:"fillHeart",onClick:function(){localStorage.removeItem(l.id),o({id:"",good:!1})},children:"\u2764"}):Object(u.jsx)("button",{className:"emptyHeart",onClick:function(){localStorage.setItem(t.id,JSON.stringify({id:t.id,title:t.title,poster_img:O})),o({id:t.id,good:!0})},children:Object(u.jsx)(b.a,{icon:m.a})})}),Object(u.jsx)("span",{children:" \uc774 \uc601\ud654\uac00 \ub9c8\uc74c\uc5d0 \ub4e4\uc5b4\uc694  "})]})]})}),Object(u.jsx)("section",{children:Object(u.jsxs)("div",{className:"inSection",children:[Object(u.jsx)("h1",{className:"videosh1",children:"\uad00\ub828 \uc601\uc0c1"}),Object(u.jsx)("div",{className:"swiper-container",children:Object(u.jsx)("div",{className:"videos",children:s.results.map((function(e){return Object(u.jsx)(f,{id:e.id,title:e.title,poster_path:e.poster_path,vote:e.vote_average,release_date:e.release_date,getMovieID:n})}))})})]})})]})};var k=function(e){var t=e.alertShow,a=e.alertMsg;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:t?"modalDiv modalActive":"modalDiv",children:Object(u.jsx)("span",{className:"modalText",children:a})})})};var _=function(){var e="8df3ad55340084ac780b98e8fa62f3d4",t=Object(c.useState)({filterType:"",results:[],detail:!1,id:"",details:[],alert:!1,alertMsg:"",goodBtn:!1,videos:[]}),a=Object(d.a)(t,2),s=a[0],n=a[1],i=function(){var t=Object(o.a)(r.a.mark((function t(a){var c,i,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("good"!==(c=a)){t.next=5;break}n(Object(l.a)(Object(l.a)({},s),{},{detail:!1,filterType:c,goodBtn:!0})),t.next=12;break;case 5:return t.next=7,fetch("https://api.themoviedb.org/3/movie/".concat(c,"?api_key=").concat(e,"&language=ko&page=1"));case 7:return i=t.sent,t.next=10,i.json();case 10:o=t.sent,n(Object(l.a)(Object(l.a)({},s),{},{filterType:c,results:o.results,detail:!1,goodBtn:!1}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(o.a)(r.a.mark((function t(a,c){var i,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(e,"&language=ko&query=").concat(a,"&page=1&include_adult=false"));case 3:return i=t.sent,t.next=6,i.json();case 6:(o=t.sent).results.length>0?n(Object(l.a)(Object(l.a)({},s),{},{results:o.results,detail:!1,goodBtn:!1,filterType:a})):(n(Object(l.a)(Object(l.a)({},s),{},{alert:!0,alertMsg:"Movie not found"})),setTimeout((function(){n(Object(l.a)(Object(l.a)({},s),{},{alert:!1}))}),2e3)),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n(Object(l.a)(Object(l.a)({},s),{},{alert:!0,alertMsg:"Please enter the title"})),setTimeout((function(){n(Object(l.a)(Object(l.a)({},s),{},{alert:!1}))}),2e3);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}(),b=function(){var t=Object(o.a)(r.a.mark((function t(a){var c,i,o,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(a,"?api_key=").concat(e,"&language=ko"));case 2:return c=t.sent,t.next=5,fetch("https://api.themoviedb.org/3/movie/".concat(a,"/similar?api_key=").concat(e,"&language=ko&page=1"));case 5:return i=t.sent,t.next=8,c.json();case 8:return o=t.sent,t.next=11,i.json();case 11:d=t.sent,n(Object(l.a)(Object(l.a)({},s),{},{details:o,detail:!0,id:a,goodBtn:!1,videos:d}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){return i("popular")}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{alertShow:s.alert,alertMsg:s.alertMsg}),Object(u.jsx)("header",{children:Object(u.jsx)(x,{searchData:function(e){j(e)}})}),Object(u.jsxs)("main",{children:[Object(u.jsx)("aside",{children:Object(u.jsx)(h,{filterBtn:i})}),Object(u.jsx)("article",{children:s.detail?Object(u.jsx)(N,{details:s.details,movieid:s.id,videos:s.videos,getMovieID:b,closeDetail:function(){n(Object(l.a)(Object(l.a)({},s),{},{detail:!1}))}}):Object(u.jsx)(v,{filterType:s.filterType,results:s.results,detail:s.detail,getMovieID:b,goodBtn:s.goodBtn})})]})]})};a(25);n.a.render(Object(u.jsx)(_,{}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.fe606ede.chunk.js.map