(this["webpackJsonpmovie-web"]=this["webpackJsonpmovie-web"]||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a(13),n=a.n(s),r=a(7),i=a.n(r),l=a(3),o=a(10),d=a(6),j=a(5),b=a(4),u=a(8),O=a(0);var m=function(e){var t=e.storageKey,a=e.deleteGood,c=JSON.parse(localStorage.getItem(t)).id,s=JSON.parse(localStorage.getItem(t)).poster_img,n=JSON.parse(localStorage.getItem(t)).title;return Object(O.jsxs)("div",{className:"movies",children:[Object(O.jsx)("img",{className:"moviePoster",src:s,alt:n}),Object(O.jsx)("div",{className:"movieTitle",children:Object(O.jsx)("p",{children:n})}),Object(O.jsx)("button",{className:"deleteButton",onClick:function(e){localStorage.removeItem(c),a()},children:Object(O.jsx)(b.a,{icon:u.c})})]})};var p=function(e){var t=e.filterBtn,a=function(e){"BUTTON"===e.target.nodeName||"DIV"===e.target.nodeName?t(e.target.className):"svg"===e.target.nodeName?t(e.target.parentNode.className):t(e.target.parentNode.parentNode.className)};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"navContainer",children:[Object(O.jsxs)("button",{onClick:a,className:"popular",children:[Object(O.jsx)(b.a,{icon:j.e}),Object(O.jsx)("div",{className:"popular",children:"\uc778\uae30"})]}),Object(O.jsxs)("button",{onClick:a,className:"top_rated",children:[Object(O.jsx)(b.a,{icon:j.d}),Object(O.jsx)("div",{className:"top_rated",children:"\uc88b\uc740\ud3c9\uac00"})]}),Object(O.jsxs)("button",{onClick:a,className:"now_playing",children:[Object(O.jsx)(b.a,{icon:j.b}),Object(O.jsx)("div",{className:"now_playing",children:"\uc0c1\uc601\uc911"})]}),Object(O.jsxs)("button",{onClick:a,className:"good",children:[Object(O.jsx)(b.a,{icon:j.a}),Object(O.jsx)("div",{className:"good",children:"\uc88b\uc544\uc694"})]})]})})};var h=function(e){var t=e.result,a=e.getMovieID,c=null===t.poster_path?"http://collaboparty1004.cafe24.com/xe/files/attach/images/139/483/d8c711f2e76e6be056d911b8fbed47fd.jpg":"https://image.tmdb.org/t/p/original/".concat(t.poster_path);return Object(O.jsxs)("div",{className:"movies",onClick:function(){a(t.id)},children:[Object(O.jsx)("img",{className:"moviePoster",src:c,alt:t.title}),Object(O.jsx)("div",{className:"releaseDate",children:t.release_date.split("-")[0]}),Object(O.jsx)("div",{className:"movieTitle",children:Object(O.jsx)("p",{children:t.title})})]})};var v=function(e){var t=e.filterType,a=e.results,s=e.detail,n=e.getMovieID,r=e.goodBtn,i=Object(c.useState)({state:!1}),l=Object(d.a)(i,2),o=l[0],j=l[1],b="";b="popular"===t?"\uc778\uae30 \uc788\ub294 \uc601\ud654":"top_rated"===t?"\uc88b\uc740 \ud3c9\uac00 \uc601\ud654":"now_playing"===t?"\uc0c1\uc601\uc911\uc778 \uc601\ud654":"good"===t?"\uc88b\uc544\ud558\ub294 \uc601\ud654":"'"+t+"' \uc5d0 \ub300\ud55c \uacb0\uacfc";var u=Object.keys(localStorage),p=function(){j({state:!o.state})};return!0===r?Object(O.jsxs)("div",{className:"movieContainer",children:[Object(O.jsx)("h1",{className:"currentPage",children:b}),u.map((function(e){return Object(O.jsx)(m,{deleteGood:p,storageKey:e})}))]}):Object(O.jsxs)("div",{className:"movieContainer",children:[Object(O.jsx)("h1",{className:"currentPage",children:b}),Object(O.jsx)(O.Fragment,{children:a.map((function(e){return Object(O.jsx)(h,{result:e,detail:s,getMovieID:n},e.id)}))})]})};var g=function(e){var t=e.searchData,a=Object(c.useState)(""),s=Object(d.a)(a,2),n=s[0],r=s[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"headerContainer",children:[Object(O.jsx)("button",{className:"logo",children:Object(O.jsx)(b.a,{icon:j.f})}),Object(O.jsxs)("form",{className:"headerSearch",children:[Object(O.jsx)("input",{onChange:function(e){r(e.target.value)},type:"text",value:n,placeholder:""}),Object(O.jsx)("button",{onClick:function(e){e.preventDefault(),t(n),r("")},children:Object(O.jsx)(b.a,{icon:j.c})})]})]})})};var x=function(e){var t=e.genre;return Object(O.jsxs)("span",{children:[t," "]})};var f=function(e){var t=e.details,a=e.closeDetail,s=Object(c.useState)({id:"",good:!1}),n=Object(d.a)(s,2),r=n[0],i=n[1],l="http://collaboparty1004.cafe24.com/xe/files/attach/images/139/483/d8c711f2e76e6be056d911b8fbed47fd.jpg",o=null===t.poster_path?l:"https://image.tmdb.org/t/p/original/".concat(t.poster_path),j=null===t.backdrop_path?l:"https://image.tmdb.org/t/p/original/".concat(t.backdrop_path);return Object(O.jsxs)("div",{className:"detailContainer",children:[Object(O.jsxs)("div",{className:"backdropContainer",children:[Object(O.jsx)("img",{className:"backdropImg",src:j,alt:t.title}),Object(O.jsx)("div",{className:"backShadow"})]}),Object(O.jsxs)("div",{className:"movieDetail",children:[Object(O.jsx)("div",{children:Object(O.jsx)("img",{className:"detailImg",src:o,alt:t.title})}),r.good?Object(O.jsx)("button",{className:"fillHeart",onClick:function(){localStorage.removeItem(r.id),i({id:"",good:!1})},children:"\u2764"}):Object(O.jsx)("button",{className:"emptyHeart",onClick:function(){localStorage.setItem(t.id,JSON.stringify({id:t.id,title:t.title,poster_img:o})),i({id:t.id,good:!0})},children:Object(O.jsx)(b.a,{icon:u.a})}),Object(O.jsx)("button",{className:"closeBtn",onClick:function(e){a()},children:Object(O.jsx)(b.a,{icon:u.b})}),Object(O.jsxs)("div",{className:"detailInfo",children:[Object(O.jsx)("div",{className:"detailTitle",children:t.title}),Object(O.jsxs)("div",{className:"detailGenres",children:[Object(O.jsx)("span",{children:"\uc7a5\ub974 : "}),Object(O.jsx)("span",{children:t.genres.map((function(e){return Object(O.jsx)(x,{genre:e.name},e.id)}))})]}),Object(O.jsxs)("div",{className:"detailRuntime",children:[Object(O.jsx)("span",{children:"\uc0c1\uc601 \uc2dc\uac04 : "}),Object(O.jsxs)("span",{children:[t.runtime," \ubd84"]})]}),Object(O.jsxs)("div",{className:"detailDate",children:[Object(O.jsx)("span",{children:"\uac1c\ubd09\uc77c : "}),Object(O.jsx)("span",{children:t.release_date})]}),Object(O.jsxs)("div",{className:"detailVote",children:["\ud3c9\uc810 : ",t.vote_average," / 10"]}),Object(O.jsx)("div",{className:"detailOverviewTitle",children:"\uac1c\uc694"}),Object(O.jsx)("div",{className:"detailOverview",children:t.overview})]})]})]})};var N=function(e){var t=e.alertShow,a=e.alertMsg;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:t?"modalDiv modalActive":"modalDiv",children:Object(O.jsx)("span",{className:"modalText",children:a})})})};var k=function(){var e="8df3ad55340084ac780b98e8fa62f3d4",t=Object(c.useState)({filterType:"",results:[],detail:!1,id:"",details:[],alert:!1,alertMsg:"",goodBtn:!1}),a=Object(d.a)(t,2),s=a[0],n=a[1],r=function(){var t=Object(o.a)(i.a.mark((function t(a){var c,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("good"!==(c=a)){t.next=5;break}n(Object(l.a)(Object(l.a)({},s),{},{detail:!1,filterType:c,goodBtn:!0})),t.next=12;break;case 5:return t.next=7,fetch("https://api.themoviedb.org/3/movie/".concat(c,"?api_key=").concat(e,"&language=ko&page=1"));case 7:return r=t.sent,t.next=10,r.json();case 10:o=t.sent,n(Object(l.a)(Object(l.a)({},s),{},{filterType:c,results:o.results,detail:!1,goodBtn:!1}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(o.a)(i.a.mark((function t(a,c){var r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(e,"&language=ko&query=").concat(a,"&page=1&include_adult=false"));case 3:return r=t.sent,t.next=6,r.json();case 6:(o=t.sent).results.length>0?n(Object(l.a)(Object(l.a)({},s),{},{results:o.results,detail:!1,goodBtn:!1,filterType:a})):(n(Object(l.a)(Object(l.a)({},s),{},{alert:!0,alertMsg:"Movie not found"})),setTimeout((function(){n(Object(l.a)(Object(l.a)({},s),{},{alert:!1}))}),2e3)),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n(Object(l.a)(Object(l.a)({},s),{},{alert:!0,alertMsg:"Please enter the title"})),setTimeout((function(){n(Object(l.a)(Object(l.a)({},s),{},{alert:!1}))}),2e3);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}(),b=function(){var t=Object(o.a)(i.a.mark((function t(a){var c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(a,"?api_key=").concat(e,"&language=ko"));case 2:return c=t.sent,t.next=5,c.json();case 5:r=t.sent,n(Object(l.a)(Object(l.a)({},s),{},{details:r,detail:!0,id:a,goodBtn:!1}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){return r("popular")}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(N,{alertShow:s.alert,alertMsg:s.alertMsg}),Object(O.jsx)("header",{children:Object(O.jsx)(g,{searchData:function(e){j(e)}})}),Object(O.jsxs)("main",{children:[Object(O.jsx)("aside",{children:Object(O.jsx)(p,{filterBtn:r})}),Object(O.jsx)("section",{children:s.detail?Object(O.jsx)(f,{details:s.details,movieid:s.id,closeDetail:function(){n(Object(l.a)(Object(l.a)({},s),{},{detail:!1}))}}):Object(O.jsx)(v,{filterType:s.filterType,results:s.results,detail:s.detail,getMovieID:b,goodBtn:s.goodBtn})})]})]})};a(25);n.a.render(Object(O.jsx)(k,{}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.f53e4054.chunk.js.map